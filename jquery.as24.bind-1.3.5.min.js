(function(e){var o=e.attr;e.attr=function(a,c,b,d){var f=this,g=e.isPlainObject(a);void 0===b?f=g?a[c]:o(a,c,b,d):g?(d=a[c],a[c]=b,e(a).trigger({type:"change."+c,attribute:c,newValue:b,oldValue:d}),e(a).trigger({type:"change",attribute:c,newValue:b,oldValue:d})):o(a,c,b,d);return f};var p=function(a){a=e(a);if(0<a.length){a=a[0];switch(a.nodeName){case "INPUT":switch(a.type){case "button":case "radio":case "checkbox":return a.type;case "reset":case "submit":return"button";default:return"text"}case "SELECT":return a.multiple?
"multiselect":"dropdown";case "BUTTON":return"button";case "TEXTAREA":return"text"}return"property"}return null},l=function(a,c,b){b();e(a).bind("change."+c,b);return a},q=function(a,c,b,d,f){return l(a,c,function(){var g=e(a).attr(c);void 0!==f&&(g=f(g));var h="function"===typeof b?b(g):e(b);switch(d){case void 0:case "val":h.val(g);break;case "text":h.text(g);break;default:h.attr(d,g)}})},r=function(a,c,b,d){return l(a,c,function(){var f=e(a).attr(c);void 0!==d&&(f=d(f));e(b).attr("checked",!1);
e(b).filter("[value='"+f+"']").attr("checked",!0)})},s=function(a,c,b,d){void 0===d&&(d=function(a){e(b).val(a)});return l(a,c,function(){var b=e(a).attr(c).split(",");d(b)})},t=function(a,c,b,d){return s(a,c,b,function(a){e(b).attr("checked",!1);e.each(a,function(a,c){void 0!==d&&(c=d(c));e(b).filter("[value='"+c+"']").attr("checked",!0)})})},u=function(a,c,b,d){return s(a,c,b,function(a){if(void 0!==d)for(i=0;i<a.length;i++)a[i]=d(a[i]);e(b).val(a)})},m=function(a,c,b,d){c="function"===typeof c?
c(value):e(c);b();d||(d="change");c.bind(d,b);return a},n=function(a,c,b,d,f,g,h){void 0===d&&(d=b);return m(a,b,function(){var b="function"===typeof d?d():e(d);switch(f){case void 0:case "val":b=b.val();break;case "text":b=b.text();break;default:b=b.attr(f)}void 0!==g&&(b=g(b));e(a).attr(c,b)},h)},v=function(a,c,b,d,f){return n(a,c,b,function(){return e(b).filter(":checked")},"val",d,f)},z=function(a,c,b,d,f){b="function"===typeof b?b():e(b);f||(f="click");b.bind(f,function(){var b="function"===
typeof d?d(this.value):this.value;e(a).attr(c,b)});return a},w=function(a,c,b,d,f){return m(a,b,function(){var f=[];e.each(e(b).filter(":checked"),function(a,b){f[a]=b.value;void 0!==d&&(f[a]=d(f[a]))});e(a).attr(c,f.join(","))},f)},x=function(a,c,b,d,f){return m(a,b,function(){var f=[];null!=e(b).val()&&e.each(e(b).val(),function(a,b){f[a]=b;void 0!==d&&(f[a]=d(f[a]))});e(a).attr(c,f.join(","))},f)},k=function(a,c,b,d,f,e,h,j){switch(p(b)){case null:break;case "radio":h?(v(a,c,b,f,j),r(a,c,b,d)):
(r(a,c,b,d),v(a,c,b,f,j));break;case "checkbox":h?(w(a,c,b,f,j),t(a,c,b,d)):(t(a,c,b,d),w(a,c,b,f,j));break;case "multiselect":h?(x(a,c,b,f,j),u(a,c,b,d)):(u(a,c,b,d),x(a,c,b,f,j));break;case "button":z(a,c,b,f,j);break;case "text":case "dropdown":e||(e="val");default:e||(e="text"),h?(n(a,c,b,b,e,f,j),q(a,c,b,e,d)):(q(a,c,b,e,d),n(a,c,b,b,e,f,j))}return a},y=function(a,c,b){e.each(a[0],function(d){d.match("^jQuery")||(k(a,d,"#"+d,void 0,void 0,void 0,c,b),k(a,d,"[name="+d+"]",void 0,void 0,void 0,
c,b),k(a,d,"label[for="+d+"]",void 0,void 0,void 0,c,b))});return a};e.fn.extend({getBindingType:p,dataBind:function(a){return k(this,a.modelAttribute,a.selector,a.translateTo,a.translateFrom,a.domProperty,a.initialDataInDom,a.eventToBind)},autoBind:function(a){return null==a||void 0==a?y(this):y(this,a.initialDataInDom,a.eventToBind)}})})(jQuery);
